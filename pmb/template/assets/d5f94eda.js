import{c as T,j as n,g as H,a as U,s as $,_ as x,r as y,u as G,b as W,d as te,e as L,P as t,f as J,B as se,h as ae,i as B,L as D,k as oe,l as ne,m as re,n as ie,o as le,p as ce,q as z,R as A,t as de,v as pe,w as v,x as b,T as R,y as E,z as _,C as ue,A as ge,D as fe,E as be,F as xe,I as ve,G as he,M as me,H as ye,J as Ce,O as Ie}from"./e1dd7045.js";import{S as F,T as P,B as q,F as ke}from"./f10124d3.js";const Se=T(n("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function we(e){return H("MuiAvatar",e)}U("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Me=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],Oe=e=>{const{classes:a,variant:o,colorDefault:r}=e;return J({root:["root",o,r&&"colorDefault"],img:["img"],fallback:["fallback"]},we,a)},Be=$("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:o}=e;return[a.root,a[o.variant],o.colorDefault&&a.colorDefault]}})(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:x({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:x({backgroundColor:e.palette.grey[400]},e.applyStyles("dark",{backgroundColor:e.palette.grey[600]})))}]})),Pe=$("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,a)=>a.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Re=$(Se,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,a)=>a.fallback})({width:"75%",height:"75%"});function $e({crossOrigin:e,referrerPolicy:a,src:o,srcSet:r}){const[i,l]=y.useState(!1);return y.useEffect(()=>{if(!o&&!r)return;l(!1);let c=!0;const f=new Image;return f.onload=()=>{c&&l("loaded")},f.onerror=()=>{c&&l("error")},f.crossOrigin=e,f.referrerPolicy=a,f.src=o,r&&(f.srcset=r),()=>{c=!1}},[e,a,o,r]),i}const X=y.forwardRef(function(a,o){const r=G({props:a,name:"MuiAvatar"}),{alt:i,children:l,className:c,component:f="div",slots:C={},slotProps:h={},imgProps:m,sizes:w,src:s,srcSet:u,variant:d="circular"}=r,g=W(r,Me);let p=null;const I=$e(x({},m,{src:s,srcSet:u})),M=s||u,k=M&&I!=="error",S=x({},r,{colorDefault:!k,component:f,variant:d}),j=Oe(S),[Z,ee]=te("img",{className:j.img,elementType:Pe,externalForwardedProps:{slots:C,slotProps:{img:x({},m,h.img)}},additionalProps:{alt:i,src:s,srcSet:u,sizes:w},ownerState:S});return k?p=n(Z,x({},ee)):l||l===0?p=l:M&&i?p=i[0]:p=n(Re,{ownerState:S,className:j.fallback}),n(Be,x({as:f,ownerState:S,className:L(j.root,c),ref:o},g,{children:p}))});X.propTypes={alt:t.string,children:t.node,classes:t.object,className:t.string,component:t.elementType,imgProps:t.object,sizes:t.string,slotProps:t.shape({img:t.oneOfType([t.func,t.object])}),slots:t.shape({img:t.elementType}),src:t.string,srcSet:t.string,sx:t.oneOfType([t.arrayOf(t.oneOfType([t.func,t.object,t.bool])),t.func,t.object]),variant:t.oneOfType([t.oneOf(["circular","rounded","square"]),t.string])};const je=X;function Ae(e){return H("MuiListItemButton",e)}const Le=U("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),O=Le,Fe=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],Te=(e,a)=>{const{ownerState:o}=e;return[a.root,o.dense&&a.dense,o.alignItems==="flex-start"&&a.alignItemsFlexStart,o.divider&&a.divider,!o.disableGutters&&a.gutters]},ze=e=>{const{alignItems:a,classes:o,dense:r,disabled:i,disableGutters:l,divider:c,selected:f}=e,h=J({root:["root",r&&"dense",!l&&"gutters",c&&"divider",i&&"disabled",a==="flex-start"&&"alignItemsFlexStart",f&&"selected"]},Ae,o);return x({},o,h)},Ne=$(se,{shouldForwardProp:e=>ae(e)||e==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:Te})(({theme:e,ownerState:a})=>x({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${O.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:B(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${O.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:B(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${O.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:B(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:B(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${O.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${O.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},a.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},a.alignItems==="flex-start"&&{alignItems:"flex-start"},!a.disableGutters&&{paddingLeft:16,paddingRight:16},a.dense&&{paddingTop:4,paddingBottom:4})),Y=y.forwardRef(function(a,o){const r=G({props:a,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:l=!1,component:c="div",children:f,dense:C=!1,disableGutters:h=!1,divider:m=!1,focusVisibleClassName:w,selected:s=!1,className:u}=r,d=W(r,Fe),g=y.useContext(D),p=y.useMemo(()=>({dense:C||g.dense||!1,alignItems:i,disableGutters:h}),[i,g.dense,C,h]),I=y.useRef(null);oe(()=>{l&&(I.current?I.current.focus():console.error("MUI: Unable to set focus to a ListItemButton whose component has not been rendered."))},[l]);const M=x({},r,{alignItems:i,dense:p.dense,disableGutters:h,divider:m,selected:s}),k=ze(M),S=ne(I,o);return n(D.Provider,{value:p,children:n(Ne,x({ref:S,href:d.href||d.to,component:(d.href||d.to)&&c==="div"?"button":c,focusVisibleClassName:L(k.focusVisible,w),ownerState:M,className:L(k.root,u)},d,{classes:k,children:f}))})});Y.propTypes={alignItems:t.oneOf(["center","flex-start"]),autoFocus:t.bool,children:t.node,classes:t.object,className:t.string,component:t.elementType,dense:t.bool,disabled:t.bool,disableGutters:t.bool,divider:t.bool,focusVisibleClassName:t.string,href:t.string,selected:t.bool,sx:t.oneOfType([t.arrayOf(t.oneOfType([t.func,t.object,t.bool])),t.func,t.object])};const V=Y;function De(e,a,o,r){for(var i=-1,l=e==null?0:e.length;++i<l;){var c=e[i];a(r,c,o(c),e)}return r}function Ee(e,a,o,r){return re(e,function(i,l,c){a(r,i,o(i),c)}),r}function _e(e,a){return function(o,r){var i=ie(o)?De:Ee,l=a?a():{};return i(o,e,le(r),l)}}var qe=Object.prototype,Ve=qe.hasOwnProperty,He=_e(function(e,a,o){Ve.call(e,o)?e[o].push(a):ce(e,o,[a])});const Ue=He,Ge=T(n("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess"),We=T(n("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");function Je(){const{settings:e,updateSettings:a}=z(),[o,r]=A.useState({}),i=de(),l=pe(),c=l[l.length-1],f=s=>{r({...o,[s]:!o[s]})};y.useEffect(()=>{const s={};for(let u=0;u<e.menus.items.length;u++){const d=e.menus.items[u];if(m(d)){s[d.title]=!0;break}let g=!1;if(d.subMenus){for(let p=0;p<d.subMenus.length;p++)if(m(d.subMenus[p])){s[d.title]=!0,g=!0;break}}if(g)break}r({...o,...s})},[c]);const C=s=>{if(s!=null&&s.subMenus){f(s.title);return}s!=null&&s.link&&i({to:s.link,search:s.search})},h=(s,u)=>{for(const d in u)if(!(d in s)||s[d]!==u[d])return!1;return!0},m=s=>{let u=c.pathname===(s==null?void 0:s.link);return s!=null&&s.search?h(c.search,s.search):u},w=s=>{const u=Ue(s==null?void 0:s.subMenus,g=>g.group||"默认"),d=Object.keys(u).sort((g,p)=>g==="默认"?-1:p==="默认"?1:g.localeCompare(p));return n(ue,{in:o[s.title],timeout:"auto",unmountOnExit:!0,children:n(E,{component:"div",disablePadding:!0,children:d.map(g=>v(A.Fragment,{children:[n(R,{variant:"subtitle1",sx:{paddingLeft:4,paddingBottom:1,color:"#b4afaf"},children:g}),u[g].map((p,I)=>n(V,{sx:{maxHeight:o[s.title]?765:0,overflow:"hidden",transition:"all 250ms ease-in-out 0s",...m(p)?{bgcolor:"rgba(0,0,0,.3)"}:null},onClick:()=>C(p),children:n(_,{inset:!0,primary:p.title,title:p.title,sx:{paddingLeft:4}})},I))]},g))})})};return v(b,{sx:{width:e.leftSideBar.show?F+"px":0,left:e.leftSideBar.show?0:`-${F}px`,position:"fixed",top:0,height:"100vh",boxShadow:"rgba(0, 0, 0, 0.06) 0px 5px 5px -3px, rgba(0, 0, 0, 0.043) 0px 8px 10px 1px, rgba(0, 0, 0, 0.035) 0px 3px 14px 2px",zIndex:98,transition:"all 250ms ease-in-out 0s",overflow:"hidden",color:"#fff",backgroundImage:'linear-gradient(rgba(34, 42, 69, 0.96), rgba(34, 42, 69, 0.96)), url("./sidebar-bg-dark.jpg")',backgroundRepeat:"no-repeat",backgroundPosition:"center top",backgroundSize:"cover"},children:[n(R,{variant:"h4",sx:{textAlign:"center",margin:0,borderBottom:"1px solid #eee",height:P+"px",lineHeight:P+"px"},children:e.menus.title})," ",n(E,{component:"nav","aria-labelledby":"nested-list-subheader",sx:{padding:2,height:`calc(100vh - ${P}px)`,overflow:"auto","&::-webkit-scrollbar":{width:"6px",backgroundColor:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(128, 128, 128, 0.7)",borderRadius:"6px"}},children:e.menus.items.map((s,u)=>v(A.Fragment,{children:[v(V,{sx:{...m(s)?{bgcolor:"rgba(0,0,0,.3)"}:null},onClick:()=>C(s),children:[n(_,{primary:s.title,title:s.title}),s.subMenus?o[s.title]?n(Ge,{}):n(We,{}):null]}),s.subMenus&&w(s)]},u))})]})}var N={},Xe=fe;Object.defineProperty(N,"__esModule",{value:!0});var K=N.default=void 0,Ye=Xe(ge()),Ke=be;K=N.default=(0,Ye.default)((0,Ke.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"MenuOutlined");function Q({children:e,popupId:a,variant:o,parentPopupState:r,disableAutoFocus:i}){const l=xe({popupId:a,variant:o,parentPopupState:r,disableAutoFocus:i}),c=e(l);return c??null}Q.propTypes={children:t.func.isRequired,popupId:t.string,variant:t.oneOf(["popover","popper"]).isRequired,parentPopupState:t.object,disableAutoFocus:t.bool};function Qe(){const{settings:e,updateSettings:a,signOut:o}=z(),r=i=>{o(),i.close()};return n(b,{sx:{transition:"all 0.3s ease",boxShadow:"0px 4px 5px -2px rgba(0, 0, 0, 0.06),0px 7px 10px 1px rgba(0, 0, 0, 0.042),0px 2px 16px 1px rgba(0, 0, 0, 0.036)",height:64,top:0,zIndex:96},children:v(b,{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",sx:{paddingY:"8px",paddingX:"16px",paddingTop:"12px"},children:[n(b,{display:"flex",children:n(ve,{onClick:()=>a({leftSideBar:{show:!e.leftSideBar.show}}),children:n(K,{})})}),n(b,{display:"flex",alignItems:"center",children:n(Q,{variant:"popover",popupId:"user-info-menu",disableAutoFocus:!0,children:i=>{var l;return v(y.Fragment,{children:[v(b,{display:"flex",alignItems:"center",gap:.5,...he(i),children:[n(je,{sx:{width:24,height:24,fontSize:12},children:"OP"}),n(R,{children:((l=e.user.userInfo)==null?void 0:l.nick_name)||"小可爱"})]}),n(me,{...ye(i),children:n(Ce,{onClick:()=>r(i),children:"退出登录"})})]})}})})]})})}const Ze=()=>n(b,{sx:{padding:q+"px",minHeight:`calc(100vh - ${P+(q+3)}px)`},children:n(Ie,{})}),et=Ze,tt=()=>v(b,{sx:{padding:3,backgroundColor:"rgb(34, 42, 69)",color:"rgb(255, 255, 255)",width:"100%",position:"static",zIndex:96,boxShadow:"rgba(0, 0, 0, 0.2) 0px 2px 4px -1px, rgba(0, 0, 0, 0.14) 0px 4px 5px 0px, rgba(0, 0, 0, 0.12) 0px 1px 10px 0px",transition:"box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",height:ke+"px"},display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",children:[n(b,{}),n(b,{children:n(R,{sx:{m:0,fontSize:14},children:"Design and Developed by UI Lib"})})]}),st=tt;function nt(){const{settings:e,updateSettings:a}=z();return v(b,{display:"flex",flexWrap:"wrap",flexDirection:"column",gap:2,children:[n(Je,{}),v(b,{sx:{marginLeft:e.leftSideBar.show?F+"px":0,transition:"all 250ms ease-in-out 0s"},children:[n(Qe,{}),n(et,{}),n(st,{})]})]})}export{nt as default};
