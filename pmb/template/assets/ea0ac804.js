import{c as F,j as o,g as q,a as H,s as $,_ as v,r as C,u as V,b as U,d as j,P as s,e as G,B as Q,f as Z,h as O,L as z,i as ee,k as te,l as ae,m as se,n as ne,o as oe,p as P,R as A,q as re,t as ie,v as h,w as b,T as R,x as N,y as D,C as le,z as ce,A as de,D as ue,E as pe,I as ge,F as fe,M as be,G as xe,H as ve,O as he}from"./9beb0b88.js";import{S as L,T as B,B as E,F as me}from"./f10124d3.js";const ye=F(o("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function Ce(e){return q("MuiAvatar",e)}H("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Ie=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],ke=e=>{const{classes:t,variant:n,colorDefault:r}=e;return G({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},Ce,t)},we=$("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})(({theme:e,ownerState:t})=>v({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.variant==="square"&&{borderRadius:0},t.colorDefault&&v({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[600]}))),Se=$("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Me=$(ye,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});function Oe({crossOrigin:e,referrerPolicy:t,src:n,srcSet:r}){const[i,l]=C.useState(!1);return C.useEffect(()=>{if(!n&&!r)return;l(!1);let d=!0;const f=new Image;return f.onload=()=>{d&&l("loaded")},f.onerror=()=>{d&&l("error")},f.crossOrigin=e,f.referrerPolicy=t,f.src=n,r&&(f.srcset=r),()=>{d=!1}},[e,t,n,r]),i}const W=C.forwardRef(function(t,n){const r=V({props:t,name:"MuiAvatar"}),{alt:i,children:l,className:d,component:f="div",imgProps:m,sizes:y,src:x,srcSet:k,variant:a="circular"}=r,u=U(r,Ie);let c=null;const g=Oe(v({},m,{src:x,srcSet:k})),p=x||k,I=p&&g!=="error",S=v({},r,{colorDefault:!I,component:f,variant:a}),w=ke(S);return I?c=o(Se,v({alt:i,src:x,srcSet:k,sizes:y,ownerState:S,className:w.img},m)):l!=null?c=l:p&&i?c=i[0]:c=o(Me,{className:w.fallback}),o(we,v({as:f,ownerState:S,className:j(w.root,d),ref:n},u,{children:c}))});W.propTypes={alt:s.string,children:s.node,classes:s.object,className:s.string,component:s.elementType,imgProps:s.object,sizes:s.string,src:s.string,srcSet:s.string,sx:s.oneOfType([s.arrayOf(s.oneOfType([s.func,s.object,s.bool])),s.func,s.object]),variant:s.oneOfType([s.oneOf(["circular","rounded","square"]),s.string])};const Be=W;function Re(e){return q("MuiListItemButton",e)}const $e=H("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),M=$e,Ae=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],je=(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.alignItems==="flex-start"&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]},Le=e=>{const{alignItems:t,classes:n,dense:r,disabled:i,disableGutters:l,divider:d,selected:f}=e,y=G({root:["root",r&&"dense",!l&&"gutters",d&&"divider",i&&"disabled",t==="flex-start"&&"alignItemsFlexStart",f&&"selected"]},Re,n);return v({},n,y)},Fe=$(Q,{shouldForwardProp:e=>Z(e)||e==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:je})(({theme:e,ownerState:t})=>v({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${M.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:O(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${M.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:O(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${M.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:O(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:O(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${M.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${M.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.alignItems==="flex-start"&&{alignItems:"flex-start"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.dense&&{paddingTop:4,paddingBottom:4})),X=C.forwardRef(function(t,n){const r=V({props:t,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:l=!1,component:d="div",children:f,dense:m=!1,disableGutters:y=!1,divider:x=!1,focusVisibleClassName:k,selected:a=!1,className:u}=r,c=U(r,Ae),g=C.useContext(z),p=C.useMemo(()=>({dense:m||g.dense||!1,alignItems:i,disableGutters:y}),[i,g.dense,m,y]),I=C.useRef(null);ee(()=>{l&&(I.current?I.current.focus():console.error("MUI: Unable to set focus to a ListItemButton whose component has not been rendered."))},[l]);const S=v({},r,{alignItems:i,dense:p.dense,disableGutters:y,divider:x,selected:a}),w=Le(S),K=te(I,n);return o(z.Provider,{value:p,children:o(Fe,v({ref:K,href:c.href||c.to,component:(c.href||c.to)&&d==="div"?"a":d,focusVisibleClassName:j(w.focusVisible,k),ownerState:S,className:j(w.root,u)},c,{classes:w,children:f}))})});X.propTypes={alignItems:s.oneOf(["center","flex-start"]),autoFocus:s.bool,children:s.node,classes:s.object,className:s.string,component:s.elementType,dense:s.bool,disabled:s.bool,disableGutters:s.bool,divider:s.bool,focusVisibleClassName:s.string,href:s.string,selected:s.bool,sx:s.oneOfType([s.arrayOf(s.oneOfType([s.func,s.object,s.bool])),s.func,s.object])};const _=X;function Pe(e,t,n,r){for(var i=-1,l=e==null?0:e.length;++i<l;){var d=e[i];t(r,d,n(d),e)}return r}function Te(e,t,n,r){return ae(e,function(i,l,d){t(r,i,n(i),d)}),r}function ze(e,t){return function(n,r){var i=se(n)?Pe:Te,l=t?t():{};return i(n,e,ne(r),l)}}var Ne=Object.prototype,De=Ne.hasOwnProperty,Ee=ze(function(e,t,n){De.call(e,n)?e[n].push(t):oe(e,n,[t])});const _e=Ee,qe=F(o("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess"),He=F(o("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");function Ve(){const{settings:e,updateSettings:t}=P(),[n,r]=A.useState({}),i=re(),l=ie(),d=l[l.length-1],f=a=>{r({...n,[a]:!n[a]})};C.useEffect(()=>{const a={};for(let u=0;u<e.menus.items.length;u++){const c=e.menus.items[u];if(x(c)){a[c.title]=!0;break}let g=!1;if(c.subMenus){for(let p=0;p<c.subMenus.length;p++)if(x(c.subMenus[p])){a[c.title]=!0,g=!0;break}}if(g)break}r({...n,...a})},[d]);const m=a=>{if(a!=null&&a.subMenus){f(a.title);return}a!=null&&a.link&&i({to:a.link,search:a.search})},y=(a,u)=>{for(const c in u)if(!(c in a)||a[c]!==u[c])return!1;return!0},x=a=>{let u=d.pathname===(a==null?void 0:a.link);return a!=null&&a.search?y(d.search,a.search):u},k=a=>{const u=_e(a==null?void 0:a.subMenus,g=>g.group||"默认"),c=Object.keys(u).sort((g,p)=>g==="默认"?-1:p==="默认"?1:g.localeCompare(p));return o(le,{in:n[a.title],timeout:"auto",unmountOnExit:!0,children:o(N,{component:"div",disablePadding:!0,children:c.map(g=>h(A.Fragment,{children:[o(R,{variant:"subtitle1",sx:{paddingLeft:4,paddingBottom:1,color:"#b4afaf"},children:g}),u[g].map((p,I)=>o(_,{sx:{maxHeight:n[a.title]?765:0,overflow:"hidden",transition:"all 250ms ease-in-out 0s",...x(p)?{bgcolor:"rgba(0,0,0,.3)"}:null},onClick:()=>m(p),children:o(D,{inset:!0,primary:p.title,title:p.title,sx:{paddingLeft:4}})},I))]},g))})})};return h(b,{sx:{width:e.leftSideBar.show?L+"px":0,left:e.leftSideBar.show?0:`-${L}px`,position:"fixed",top:0,height:"100vh",boxShadow:"rgba(0, 0, 0, 0.06) 0px 5px 5px -3px, rgba(0, 0, 0, 0.043) 0px 8px 10px 1px, rgba(0, 0, 0, 0.035) 0px 3px 14px 2px",zIndex:98,transition:"all 250ms ease-in-out 0s",overflow:"hidden",color:"#fff",backgroundImage:'linear-gradient(rgba(34, 42, 69, 0.96), rgba(34, 42, 69, 0.96)), url("./sidebar-bg-dark.jpg")',backgroundRepeat:"no-repeat",backgroundPosition:"center top",backgroundSize:"cover"},children:[o(R,{variant:"h4",sx:{textAlign:"center",margin:0,borderBottom:"1px solid #eee",height:B+"px",lineHeight:B+"px"},children:e.menus.title})," ",o(N,{component:"nav","aria-labelledby":"nested-list-subheader",sx:{padding:2,height:`calc(100vh - ${B}px)`,overflow:"auto","&::-webkit-scrollbar":{width:"6px",backgroundColor:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(128, 128, 128, 0.7)",borderRadius:"6px"}},children:e.menus.items.map((a,u)=>h(A.Fragment,{children:[h(_,{sx:{...x(a)?{bgcolor:"rgba(0,0,0,.3)"}:null},onClick:()=>m(a),children:[o(D,{primary:a.title,title:a.title}),a.subMenus?n[a.title]?o(qe,{}):o(He,{}):null]}),a.subMenus&&k(a)]},u))})]})}var T={},Ue=de;Object.defineProperty(T,"__esModule",{value:!0});var Y=T.default=void 0,Ge=Ue(ce()),We=ue,Xe=(0,Ge.default)((0,We.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"MenuOutlined");Y=T.default=Xe;function J({children:e,popupId:t,variant:n,parentPopupState:r,disableAutoFocus:i}){const l=pe({popupId:t,variant:n,parentPopupState:r,disableAutoFocus:i}),d=e(l);return d??null}J.propTypes={children:s.func.isRequired,popupId:s.string,variant:s.oneOf(["popover","popper"]).isRequired,parentPopupState:s.object,disableAutoFocus:s.bool};function Ye(){const{settings:e,updateSettings:t,signOut:n}=P(),r=i=>{n(),i.close()};return o(b,{sx:{transition:"all 0.3s ease",boxShadow:"0px 4px 5px -2px rgba(0, 0, 0, 0.06),0px 7px 10px 1px rgba(0, 0, 0, 0.042),0px 2px 16px 1px rgba(0, 0, 0, 0.036)",height:64,top:0,zIndex:96},children:h(b,{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",sx:{paddingY:"8px",paddingX:"16px",paddingTop:"12px"},children:[o(b,{display:"flex",children:o(ge,{onClick:()=>t({leftSideBar:{show:!e.leftSideBar.show}}),children:o(Y,{})})}),o(b,{display:"flex",alignItems:"center",children:o(J,{variant:"popover",popupId:"user-info-menu",disableAutoFocus:!0,children:i=>{var l;return h(C.Fragment,{children:[h(b,{display:"flex",alignItems:"center",gap:.5,...fe(i),children:[o(Be,{sx:{width:24,height:24,fontSize:12},children:"OP"}),o(R,{children:((l=e.user.userInfo)==null?void 0:l.nick_name)||"小可爱"})]}),o(be,{...xe(i),children:o(ve,{onClick:()=>r(i),children:"退出登录"})})]})}})})]})})}const Je=()=>o(b,{sx:{padding:E+"px",minHeight:`calc(100vh - ${B+(E+3)}px)`},children:o(he,{})}),Ke=Je,Qe=()=>h(b,{sx:{padding:3,backgroundColor:"rgb(34, 42, 69)",color:"rgb(255, 255, 255)",width:"100%",position:"static",zIndex:96,boxShadow:"rgba(0, 0, 0, 0.2) 0px 2px 4px -1px, rgba(0, 0, 0, 0.14) 0px 4px 5px 0px, rgba(0, 0, 0, 0.12) 0px 1px 10px 0px",transition:"box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",height:me+"px"},display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",children:[o(b,{}),o(b,{children:o(R,{sx:{m:0,fontSize:14},children:"Design and Developed by UI Lib"})})]}),Ze=Qe;function at(){const{settings:e,updateSettings:t}=P();return h(b,{display:"flex",flexWrap:"wrap",flexDirection:"column",gap:2,children:[o(Ve,{}),h(b,{sx:{marginLeft:e.leftSideBar.show?L+"px":0,transition:"all 250ms ease-in-out 0s"},children:[o(Ye,{}),o(Ke,{}),o(Ze,{})]})]})}export{at as default};
